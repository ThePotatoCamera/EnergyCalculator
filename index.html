<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link type="text/css" rel="stylesheet" href="common/css/materialize.css"  media="screen,projection"/>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta name="description" content="A simple calculator of energy for Wizard101">
    <title>Wizard101 - Energy Calculator</title>
</head>
<body>
        <nav class="orange darken-2 nav-extended">
            <div class="nav-wrapper">
                <a class="brand-logo waves-effect" href="./index.html">Energy Calculator</a>
            </div>
            <div class="nav-content">
                <ul class="tabs tabs-fixed-width">
                    <li class="tab"><a class="active waves-effect" href="#home">Home</a></li>
                    <li class="tab"><a class="waves-effect" href="#english">English</a></li>
                    <li class="tab"><a class="waves-effect" href="#spanish">Español</a></li>
                </ul>
            </div>
        </nav>

    <div id="home" class="col s12">
        <div class="container">
            <h1>Welcome to the energy calculator for Wizard101!</h1>
            <p>This is a simple calculator that will calculate the time you need to wait before reaching a quantity of energy.<br>
            To begin, simply select your language and input the needed info.<br>
            <p>Created by <strong>ThePotatoCamera</strong>. <a href="https://github.com/ThePotatoCamera/EnergyCalculator/blob/master/LICENSE">Project under GNU GPLv3 license.</a></p>
            <br>
            <div class="divider"></div>
            <h1>¡Bienvenido a la calculadora de energía para Wizard101</h1>
            <p>Esto es una calculadora simple que te dirá el tiempo que tienes que esperar hasta llegar a cierta cantidad de energía.<br>
            Para empezar, tan solo selecciona tu idioma y escribe la información que se te pide.<br>   </a></p>
            <br>
            <p>Creado por <strong>ThePotatoCamera</strong>. <a href="https://github.com/ThePotatoCamera/EnergyCalculator/blob/master/LICENSE">Proyecto bajo licencia GNU GPLv3.</a></p>
        </div>
    </div>
    <div id="english" class="col s12">
        <div class="container" style="margin-top: 35px">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">person</i>
                        <input id="english-ce" class="validate" type="number" min=0 required value="0">
                        <label for="english-ce">Actual energy</label>
                    </div>
                    <div class="input-field col s6">
                        <i class="material-icons prefix">flag</i>
                        <input id="english-te" class="validate" type="number" min=1 required value="1">
                        <label for="english-te">Final energy</label>
                    </div>
                </div>
                <div class="row">
                    <h5>Membership:</h5>
                    <div class="switch">
                        <label>
                            No
                            <input type="checkbox" id="english-member">
                            <span class="lever"></span>
                            Yes
                        </label>
                    </div>
                </div>

                <div class="row">
                    <div class="input-field">
                        <button class="btn waves-effect waves-light" type="button" onclick="encalc();">Calculate
                            <i class="material-icons right">send</i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <div class="divider"></div>
        <div class="container">
        <div class="row">
            <div class="input-field col s12 m4 l8">
                <i class="material-icons prefix">schedule</i>
                <input id="english-time" disabled type="text" style="cursor: help" placeholder="Estimated time" title="Estimated time to reach the end energy.">
            </div>
        </div>
    </div>

    </div>

    <div id="spanish" class="col s12">
        <div class="container" style="margin-top: 35px">
            <form class="col s12">
                <div class="row">
                    <div class="input-field col s6">
                        <i class="material-icons prefix">person</i>
                        <input id="spanish-ce" class="validate" type="number" min=0 required value="0">
                        <label for="spanish-ce">Energía actual</label>
                    </div>
                    <div class="input-field col s6">
                        <i class="material-icons prefix">flag</i>
                        <input id="spanish-te" class="validate" type="number" min=1 required value="1">
                        <label for="spanish-te">Energía final</label>
                    </div>
                </div>
                <div class="row">
                    <h5>Suscripción al Club Wizard101:</h5>
                    <div class="switch">
                        <label>
                            No
                            <input type="checkbox" id="spanish-member">
                            <span class="lever"></span>
                            Si
                        </label>
                    </div>
                </div>

                <div class="row">
                    <div class="input-field">
                        <button class="btn waves-effect waves-light" type="button" onclick="spcalc();">Calcular
                            <i class="material-icons right">send</i>
                        </button>
                    </div>
                </div>
            </form>
        </div>
        <div class="divider"></div>
        <div class="container">
        <div class="row">
            <div class="input-field col s12 m4 l8">
                <i class="material-icons prefix">schedule</i>
                <input id="spanish-time" disabled type="text" style="cursor: help" placeholder="Tiempo estimado" title="Tiempo estimado para que la energía alcance ese valor.">
            </div>
        </div>
        </div>
    </div>

    </div>
    <script type="text/javascript" src="common/js/materialize.js"></script>
    <script>
    M.AutoInit();
    </script>
    <script>
        function spcalc() {
            var ce = Number(document.getElementById('spanish-ce').value);
            var te = Number(document.getElementById('spanish-te').value);
            var ceTime = ce * 7.5;
            var teTime = te * 7.5;

            if (document.getElementById('spanish-member').checked == true) {
                var ceTime = ce * 7.5;
                var teTime = te * 7.5;
            }

            else if (document.getElementById('spanish-member').checked == false) {
                var ceTime = ce * 10;
                var teTime = te * 10;
            };

            if (ce > -1 && te > 0 && ce < te) {
                var finalTime = teTime - ceTime;
                var convertedTime = esTimeConverter(finalTime);
                document.getElementById('spanish-time').value = convertedTime;
                return;
            }
            else if (ce == te){
                document.getElementById('spanish-time').value = 'Has alcanzado la energía final.';
                return;
            }
            else if (ce < 0 ){
                window.alert('La energía actual no puede ser menor a 0.');
                return;
            }
            else if (te < 1){
                window.alert('La energía final debe ser mayor a 0.');
                return;
            }
            else if (ce > te){
                window.alert('La energía actual no puede ser mayor a la final.');
                return;
            }
            else {
                window.alert('Error desconocido. ¯\_(ツ)_/¯');
                return;
            }
        };
        function encalc() {
            var ce = Number(document.getElementById('english-ce').value);
            var te = Number(document.getElementById('english-te').value);
            var ceTime = ce * 7.5;
            var teTime = te * 7.5;

            if (document.getElementById('english-member').checked == true) {
                var ceTime = ce * 7.5;
                var teTime = te * 7.5;
            }

            else if (document.getElementById('english-member').checked == false) {
                var ceTime = ce * 10;
                var teTime = te * 10;
            };

            if (ce > -1 && te > 0 && ce < te) {
                var finalTime = teTime - ceTime;
                var convertedTime = enTimeConverter(finalTime);
                document.getElementById('english-time').value = convertedTime;
                return;
            }
            else if (ce == te){
                document.getElementById('english-time').value = 'You reached the final energy.';
                return;
            }
            else if (ce < 0 ){
                window.alert('Current energy cannot be fewer than 0.');
                return;
            }
            else if (te < 1){
                window.alert('Final energy must be over 0.');
                return;
            }
            else if (ce > te){
                window.alert('Current energy cannot be greater than final energy.');
                return;
            }
            else {
                window.alert('Unknown error. ¯\_(ツ)_/¯');
                return;
            }
        };

        function esTimeConverter(minutes) {
            var Hours = Math.floor(minutes / 60);
            var Minutes = minutes % 60;

            var finalString = Hours + ' horas y ' + Minutes + ' minutos'
            return finalString;
        };

        function enTimeConverter(minutes) {
            var Hours = Math.floor(minutes / 60);
            var Minutes = minutes % 60;

            var finalString = Hours + ' hours and ' + Minutes + ' minutes'
            return finalString;
        };
    </script>
</body>
</html>
